<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8" />
    <title>Add Tasks</title>
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.8.2/css/bulma.min.css"
    />
    <link
            rel="stylesheet"
            type="text/css"
            href="../static/css/forms.css"
            th:href="@{/css/forms.css}"
    />
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
          integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
          crossorigin="anonymous">

    <!--Bulma css-->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.8.2/css/bulma.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"
    >
    <link
            rel="stylesheet"
            type="text/css"
            href="../static/css/forms.css"
            th:href="@{/css/forms.css}"
    />
</head>

<body>
<nav
        class="navbar is-link navb"
        role="navigation"
        aria-label="main navigation"
>
    <div class="navbar-brand">
        <h2 class="title is-5 white">Mini Jira Application</h2>
    </div>

    <div class="navbar-end">
        <form th:action="@{/logout}" method="POST">
            <button class="button is-danger" type="submit">
                Logout
            </button>
        </form>

    </div>
    </div>
</nav>
<br>
<section class="form-section">
    <div class="form-div view-form">
        <form action="#"
              th:action="@{/tasks/processFormAfterAdd}"
              th:object="${task}"
              method="post"
        >

            <p style="color:red" th:if="${#fields.hasErrors('assignee')}"
               th:errors="*{assignee}">Error</p>

            <div class="complaint-field">
                <h4 class="title is-5">Name(*)</h4>
            <input type="text" th:field="*{assignee}"
                   class="form-control mb-4 col-4" placeholder="Assignee Name">
            </div>

            <p style="color:red" th:if="${#fields.hasErrors('taskName')}"
               th:errors="*{taskName}">Error</p>

            <div class="complaint-field">
                <h4 class="title is-5">Task(*)</h4>
            <input type="text" th:field="*{taskName}"
                   class="form-control mb-4 col-4" placeholder="Task">
            </div>

            <p style="color:red" th:if="${#fields.hasErrors('email')}"
               th:errors="*{email}">Error</p>

            <div class="complaint-field">
                <h4 class="title is-5">Email(*)</h4>
            <input type="text" th:field="*{email}"
                   class="form-control mb-4 col-4" placeholder="Email">
            </div>


                <input type="hidden" th:field="*{status}">


            <button class="button is-link" type="submit">Submit</button>
        </form>
        <br>
        <a th:href="@{/tasks/list}">Back to List</a>
    </div>

</section>


</body>
</html>